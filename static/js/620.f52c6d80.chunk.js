"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[620],{675:function(e,n,t){function r(e,n,t,r,a,i,c){try{var s=e[i](c),o=s.value}catch(u){return void t(u)}s.done?n(o):Promise.resolve(o).then(r,a)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(a,i){var c=e.apply(n,t);function s(e){r(c,a,i,s,o,"next",e)}function o(e){r(c,a,i,s,o,"throw",e)}s(void 0)}))}}t.d(n,{Pg:function(){return u},MK:function(){return f},M1:function(){return l},tx:function(){return d},Df:function(){return o}});var i=t(757),c=t.n(i),s="01da1c68b81345f905c14aa4e6274718",o=function(){var e=a(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(s,"&page=1")).then((function(e){return e.json()})).then((function(e){return e.results}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=a(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=").concat(s,"&language=en-US")).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=a(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(s,"&language=en-US&query=").concat(n,"&page=1&include_adult=false")).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=a(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(n,"/credits?api_key=").concat(s,"&language=en-US")).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=a(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(n,"/reviews?api_key=").concat(s,"&language=en-US&page=1")).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},620:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var r=t(439),a=t(87),i=t(689),c=t(791),s=t(675),o=t(184);function u(e){var n=e.movie,t=e.genres;return(0,o.jsxs)("div",{className:"movieCard",children:[(0,o.jsx)("img",{className:"movieCard-image",src:"https://image.tmdb.org/t/p/original".concat(n.poster_path),height:"400",alt:n.title}),(0,o.jsxs)("div",{className:"movieCard-info",children:[(0,o.jsxs)("h2",{className:"movieCard-info-title",children:[n.title," (",new Date(n.release_date).getFullYear(),")"]}),(0,o.jsxs)("p",{className:"movieCard-info-score",children:[" User Score: ",(10*n.vote_average).toFixed(),"%"]}),(0,o.jsx)("h3",{children:"Overview"}),(0,o.jsx)("p",{className:"movieCard-info-overview",children:n.overview}),(0,o.jsx)("h4",{children:"Genres"}),(0,o.jsx)("p",{className:"movieCard-info-genres",children:t})]})]})}function f(e){var n=e.backLinkHref;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"addInfo",children:[(0,o.jsx)("p",{className:"addInfo-text",children:"Additional information"}),(0,o.jsxs)("ul",{className:"addInfo-list",children:[(0,o.jsx)("li",{className:"addInfo-item",children:(0,o.jsx)(a.rU,{to:"cast",state:{from:n},children:" Cast "})}),(0,o.jsx)("li",{className:"addInfo-item",children:(0,o.jsx)(a.rU,{to:"reviews",state:{from:n},children:" Reviews "})})]})]}),(0,o.jsx)(i.j3,{})]})}function l(){var e,n,t=(0,i.UO)().movieId,l=(0,i.TH)(),d=(0,c.useState)(""),h=(0,r.Z)(d,2),p=h[0],m=h[1],v=(0,c.useState)(""),x=(0,r.Z)(v,2),g=x[0],j=x[1],k=null!==(e=null===(n=l.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/movies";return(0,c.useEffect)((function(){(0,s.Pg)(t).then((function(e){m(e),j(e.genres.map((function(e){return e.name})).join(", "))}))}),[t]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{className:"back-button",children:(0,o.jsx)(a.rU,{to:k,className:"back-link",children:" go back "})}),(0,o.jsx)(u,{movie:p,genres:g}),(0,o.jsx)(f,{backLinkHref:k})]})}}}]);
//# sourceMappingURL=620.f52c6d80.chunk.js.map